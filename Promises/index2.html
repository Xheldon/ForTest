<!DOCTYPE html>
<html>
<head>
    <style>
        div { margin:3px; width:40px; height:40px;
            position:absolute; left:0px; top:30px;
            background:green; display:none; }
        div.newcolor { background:blue; }
    </style>
    <script src="../../../../Fortest/jquery.js"></script>
</head>
<body>
<button id="start">Start</button>
<button id="stop">Stop</button>
<div></div>
<script>$("#start").click(function () {
    $("div").show("slow");
    $("div").animate({left:'+=200'},5000);
    $("div").queue(function () {
        $(this).addClass("newcolor");
        $(this).dequeue();
    });
    $("div").animate({left:'-=200'},1500);
    $("div").queue(function () {
        $(this).removeClass("newcolor");
        $(this).dequeue();
    });
    $("div").slideUp();
});
$("#stop").click(function () {
//    如果没有stop函数,则点击stop按钮时会在当前动画结束之后停止,不会再继续执行动画(因为已经被清空了);
//    如果有stop函数,且其没有参数,则点击stop按钮时,动画将不会执行完毕而在中间状态时被停止
//    如果stop函数有个true参数,则$("div").queue("fx", []);可以省略
//    $("div").queue("fx", []);
//    $("div").stop(true);
});</script>

</body>
</html>