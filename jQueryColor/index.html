<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/jquery.js"></script>
    <script src="js/jQueryColor.js"></script>
</head>
<style>
    div{
        width: 500px;
        height: 500px;
        background:rgb(234, 82, 84);
        text-align: center;
    }
    span{
        font-size: 25px;
        color: white;
    }
</style>
<body>
    <div class="container">
        <span class="num"></span>
    </div>
<script>
    $(function(){
        var flag = [true,true,true,true,true],
            startNum = 350,
            finalNum = 650,
            stepOneColor = 'linear-gradient(to bottom,rgb(234, 82, 84),rgb(244, 101, 60))',
            stepTwoColor = 'linear-gradient(to bottom,rgb(245, 119, 5),rgb(249, 168, 4))',
            stepThreeColor = 'linear-gradient(to bottom,rgb(42, 178, 44),rgb(148, 212, 64))',
            stepFourColor =  'linear-gradient(to bottom,rgb(3, 164, 195),rgb(2, 210, 170))',
            stepFiveColor = 'linear-gradient(to bottom,rgb(14, 131, 245),rgb(34, 194, 245))',
            dealFunction = function(color,numInterval){
                (function(){
                    if(numInterval == 15) {
                        $('div').animate({
                            'backgroundColor': color
                        }, 1500,'linear',function(){
                            console.log('tenFive','finish!');
                        });
                    }else if(numInterval == 5){
                        $('div').animate({
                            'backgroundColor': color
                        }, 500,'linear',function(){
                            console.log('five','finish!');
                        });
                    }else if(numInterval == 20){
                        $('div').animate({
                            'backgroundColor': color
                        }, 2000,'linear',function(){
                            console.log('TwoTen','finish!');
                        });
                    }
                }());
            },
            numAdd = function(){
                (function(){
                    startNum++;
                    $('span').text(startNum);
                    if(startNum > 350 && startNum < 550){
                        if(flag[0] == true){
                            dealFunction(stepOneColor,20);
                            flag[0] = false;
                            console.log('1',startNum);
                        }
                    }else if(startNum > 550 && startNum < 600){
                        if(flag[1] == true){
                            dealFunction(stepTwoColor,5);
                            flag[1] = false;
                            console.log('2',startNum);
                        }
                    }else if(startNum > 600 && startNum < 650){
                        if(flag[2] == true){
                            dealFunction(stepThreeColor,5);
                            flag[2] = false;
                            console.log('3',startNum);
                        }
                    }else if(startNum > 650 && startNum < 700){
                        if(flag[3] == true){
                            dealFunction(stepFourColor,5);
                            flag[3] = false;
                            console.log('4',startNum);
                        }
                    }else if(startNum > 700 && startNum < finalNum){
                        if(flag[4] == true){
                            dealFunction(stepFiveColor,15);
                            flag[4] = false;
                            console.log('5',startNum);
                        }
                    }
                    if(startNum == finalNum){
                        clearInterval(interval);
                    }
                }());
            },
            interval = setInterval(numAdd,10)
    });
</script>
</body>
</html>